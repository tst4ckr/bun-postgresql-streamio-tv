# ===================================
# CONFIGURACI√ìN DEL SERVIDOR
# ===================================
PORT=7000
NODE_ENV=development
HOST=0.0.0.0

# ===================================
# CONFIGURACI√ìN DE FUENTE DE DATOS
# ===================================

# Fuente de canales de TV - GU√çA COMPLETA:
# 
# üìÑ 'csv' = Solo archivo CSV local
#     ‚úÖ Control total sobre cada canal
#     ‚úÖ No depende de internet
#     ‚ùå Variedad limitada
#     Usa: CHANNELS_FILE (ignora M3U_URL)
#
# üìÅ 'm3u' = Solo archivo M3U local 
#     ‚úÖ Formato M3U sin internet
#     ‚úÖ Archivo guardado localmente
#     ‚ùå Variedad limitada
#     Usa: CHANNELS_FILE (ignora M3U_URL)
#
# üåê 'remote_m3u' = Solo URL M3U remota
#     ‚úÖ Siempre actualizado
#     ‚úÖ Gran variedad de canales
#     ‚ùå Depende de internet
#     Usa: M3U_URL + BACKUP_M3U_URL (ignora CHANNELS_FILE)
#
# üîÑ 'hybrid' = CSV local + URLs M3U remotas (RECOMENDADO)
#     ‚úÖ Lo mejor de ambos mundos
#     ‚úÖ CSV tiene prioridad absoluta
#     ‚úÖ Elimina duplicados autom√°ticamente
#     ‚úÖ Failover entre m√∫ltiples fuentes
#     Usa: CHANNELS_FILE + M3U_URL + BACKUP_M3U_URL
#
# üìö Documentaci√≥n completa: docs/CHANNELS_SOURCE_GUIDE.md
CHANNELS_SOURCE=hybrid
CHANNELS_FILE=data/channels.csv
M3U_URL=https://iptv-org.github.io/iptv/countries/mx.m3u
BACKUP_M3U_URL=https://iptv-org.github.io/iptv/countries/pe.m3u

# OTRAS OPCIONES DE CONFIGURACI√ìN:
# CHANNELS_SOURCE=csv          # Solo archivo CSV local
# CHANNELS_SOURCE=remote_m3u   # Solo URL M3U remota
# CHANNELS_SOURCE=m3u          # Archivo M3U local (no implementado)

# Fuentes v√°lidas personalizadas (separadas por comas)
VALID_SOURCES=csv,m3u,remote_m3u,hybrid

# ===================================
# CONFIGURACI√ìN DE TV EN VIVO
# ===================================
DEFAULT_QUALITY=HD
CACHE_CHANNELS_HOURS=6
UPDATE_INTERVAL_HOURS=4
STREAM_TIMEOUT_SECONDS=30
MAX_CONCURRENT_STREAMS=100
ENABLE_ADULT_CHANNELS=false

# ===================================
# CONFIGURACI√ìN DE LOGOS Y ASSETS
# ===================================
LOGO_CDN_URL=https://cdn.example.com/logos/
FALLBACK_LOGO=https://example.com/default-tv-logo.png
LOGO_CACHE_HOURS=24
AUTO_FETCH_LOGOS=true

# ===================================
# FILTROS GEOGR√ÅFICOS Y DE CONTENIDO
# ===================================
ALLOWED_COUNTRIES=
BLOCKED_COUNTRIES=
DEFAULT_LANGUAGE=ES
SUPPORTED_LANGUAGES=

# ===================================
# FILTROS DE CONTENIDO
# ===================================
# Habilitar sistema de filtros de contenido
ENABLE_CONTENT_FILTERS=true

# Lista de canales permitidos (separados por comas)
# Si se configura, solo estos canales ser√°n incluidos en el cat√°logo
# Utiliza similitud de 90% para coincidencias flexibles
# Formato: "Canal1,Canal2,Canal3"
# Ejemplo: HBO,ESPN,Discovery Channel,CNN,National Geographic
ALLOWED_CHANNELS=HBO,HBO Plus,HBO Family,HBO Signature,ESPN,ESPN 2,ESPN 3,ESPN 4,FOX Sports,FOX Sports 2,FOX Sports 3,CNN,CNN en Espa√±ol,Discovery Channel,Discovery H&H,Discovery Science,Discovery Theater,Discovery World,National Geographic,Nat Geo Wild,History Channel,History 2,TLC,MTV,MTV Hits,MTV Live,Comedy Central,Warner Channel,Sony Channel,AXN,Space,TNT,TNT Series,Universal Channel,Studio Universal,Cinemax,FX,AMC,A&E,Film & Arts,HD,Disney

# Filtro de contenido religioso
FILTER_RELIGIOUS_CONTENT=true
RELIGIOUS_KEYWORDS=jesus,cristo,dios,iglesia,cristian,catolica,evangelica,santo,santa,san,church,christian,catholic,evangelical,bible,faith,priest,pastor,gospel,fe,cristo,biblia,pastor,evangelio,misa,oracion,bendicion

# Filtro de contenido adulto
FILTER_ADULT_CONTENT=true
ADULT_KEYWORDS=xxx,porn,adult,sexy,hot,erotic,nude,+18,adulto,erotico,sexual,porno,caliente,desnudo,sensual

# Filtro de contenido pol√≠tico
FILTER_POLITICAL_CONTENT=false
POLITICAL_KEYWORDS=politica,political,gobierno,president,congreso,senado,elecciones,diputado,ministro,alcalde,gobernador,partido,campaign,election,congress,senate,mayor,governor

# Configuraci√≥n avanzada de filtros
FILTER_SENSITIVITY=medium
FILTER_MATCH_MODE=partial

# Lista de canales prohibidos (separados por comas)
# Sistema inteligente de filtrado de canales con coincidencia por similitud
# - Coincidencia exacta: nombres id√©nticos
# - Similitud del 90%: usando algoritmo Levenshtein
# - Contenci√≥n: si un t√©rmino est√° contenido en el nombre del canal
# Incluye t√©rminos para filtrar contenido adulto, violento y regional espec√≠fico
# Ejemplo: ADULT,XXX,PORN,- Rs,Al,Saudi,Sama,Asharq,Arryadia,Bahrain,Dubai,Ad,Rotana,ksa,libya,tunisia,ien
BANNED_CHANNELS=ADULT,XXX,PORN,SEX,EROTIC,PLAYBOY,HUSTLER,VIVID,BRAZZERS,NAUGHTY,- Rs,Al,Saudi,Sama,Asharq,Arryadia,Bahrain,Dubai,Ad,Rotana,ksa,libya,tunisia,ien,EXTREME,VIOLENCE,GORE,HORROR,TERROR

# ===================================
# FILTROS DE IPS Y CANALES PROHIBIDOS
# ===================================
# Habilitar filtrado por IPs espec√≠ficas
ENABLE_IP_FILTERING=true

# IPs espec√≠ficas prohibidas (separadas por comas)
# Ejemplo: 127.0.0.1,203.0.113.1,198.51.100.50
BANNED_IPS=203.0.113.1,198.51.100.50

# Rangos CIDR prohibidos (separadas por comas)
# Ejemplo: 192.168.0.0/16,10.0.0.0/8,203.0.113.0/24
BANNED_IP_RANGES=203.0.113.0/24,198.51.100.0/24

# URLs espec√≠ficas prohibidas (separadas por comas)
# Ejemplo: http://malicious-server.com,https://spam-iptv.net
BANNED_URLS=http://malicious-server.com,https://spam-iptv.net

# Dominios prohibidos (separadas por comas)
# Ejemplo: malicious-domain.com,spam-iptv.net,blocked-server.org
BANNED_DOMAINS=malicious-domain.com,spam-iptv.net

# T√©rminos adicionales prohibidos en nombres de canales (separadas por comas)
# Se agregan a los filtros existentes de contenido religioso, adulto y pol√≠tico
CUSTOM_BANNED_TERMS=test,demo,sample

# Patrones regex para filtrado avanzado (separados por comas)
# Ejemplo: .*test.*,.*demo.*,.*sample.*
BANNED_PATTERNS=.*prueba.*,.*testing.*

# ===================================
# CONFIGURACI√ìN DE CACHE PARA TV EN VIVO
# ===================================
# Cache optimizado para streams de TV (segundos)
STREAM_CACHE_MAX_AGE=120
STREAM_STALE_REVALIDATE=300
STREAM_STALE_ERROR=900

# Cache para cat√°logos de TV (segundos) - Optimizado para balance rendimiento/actualizaci√≥n
CATALOG_CACHE_MAX_AGE=1800
META_CACHE_MAX_AGE=3600
# Cache del manifest (segundos) - Optimizado para estabilidad
MANIFEST_CACHE_MAX_AGE=86400

# ===================================
# CONFIGURACI√ìN DE VALIDACI√ìN
# ===================================
VALIDATE_STREAMS_ON_STARTUP=true
REMOVE_INVALID_STREAMS=true
VALIDATE_STREAMS_INTERVAL_MINUTES=15
STREAM_VALIDATION_TIMEOUT=10

# Validaci√≥n antes del filtrado inteligente
# Valida conectividad de canales antes de aplicar filtros de contenido
VALIDATE_BEFORE_FILTERING=false

# Validaci√≥n de canales removidos por filtro
# Analiza conectividad de canales removidos para detectar falsos positivos
VALIDATE_FILTERED_CHANNELS=false

# Validar conectividad de canales finales despu√©s del filtrado
# Asegura que todos los canales en el resultado final sean v√°lidos
VALIDATE_AFTER_FILTERING=false

# Conversi√≥n autom√°tica de HTTPS a HTTP
CONVERT_HTTPS_TO_HTTP=false
VALIDATE_HTTP_CONVERSION=true
HTTP_CONVERSION_TIMEOUT=5
HTTP_CONVERSION_MAX_RETRIES=2

# ===================================
# CONFIGURACI√ìN DE LOGS Y MONITOREO
# ===================================
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_METRICS=true
LOG_LEVEL=info
LOG_FILE_PATH=logs/addon.log

# ===================================
# CONFIGURACI√ìN DE SEGURIDAD
# ===================================
ENABLE_CORS=true
ENABLE_HELMET=true
CORS_ORIGIN=*
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# ===================================
# CONFIGURACI√ìN DEL ADDON
# ===================================
ADDON_ID=org.stremio.tv-iptv-channels
ADDON_NAME=TV IPTV Channels
ADDON_DESCRIPTION=Canales de TV en vivo desde fuentes IPTV compatibles con Stremio
ADDON_VERSION=1.0.0
CONTACT_EMAIL=

# ===================================
# CONFIGURACI√ìN AVANZADA
# ===================================
ENABLE_DEEP_LINKS=true
ENABLE_AUTO_UPDATE=true
ENABLE_FAILOVER=true
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000
ENABLE_USER_CONFIG=false
