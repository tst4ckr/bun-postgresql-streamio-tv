# =============================================================================
# CONFIGURACIÓN DEL ADDON TV IPTV
# =============================================================================
# Copia este archivo como .env y configura los valores según tu entorno

# =============================================================================
# CONFIGURACIÓN DEL SERVIDOR
# =============================================================================
PORT=7000
HOST=0.0.0.0
NODE_ENV=development
ENABLE_CORS=true
CORS_ORIGIN=*
ENABLE_HELMET=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# =============================================================================
# CONFIGURACIÓN DEL ADDON
# =============================================================================
ADDON_ID=org.stremio.tv-iptv-addon
ADDON_NAME=TV IPTV Addon
ADDON_DESCRIPTION=Canales de TV en vivo desde fuentes IPTV (M3U/RTMP)
ADDON_VERSION=1.0.0
CONTACT_EMAIL=
ENABLE_USER_CONFIG=true
ENABLE_DEEP_LINKS=true

# =============================================================================
# CONFIGURACIÓN DE FUENTES DE DATOS
# =============================================================================
# Opciones: csv, m3u, remote_m3u, hybrid
CHANNELS_SOURCE=remote_m3u
CHANNELS_FILE=data/channels.csv
M3U_URL=
BACKUP_M3U_URL=
ENABLE_AUTO_UPDATE=true
UPDATE_INTERVAL_HOURS=4

# =============================================================================
# CONFIGURACIÓN DE STREAMING
# =============================================================================
DEFAULT_QUALITY=HD
ENABLE_ADULT_CHANNELS=false
CACHE_CHANNELS_HOURS=6
STREAM_TIMEOUT_SECONDS=30
MAX_CONCURRENT_STREAMS=100

# =============================================================================
# CONFIGURACIÓN DE ASSETS
# =============================================================================
LOGO_CDN_URL=
FALLBACK_LOGO=
LOGO_CACHE_HOURS=24
AUTO_FETCH_LOGOS=true

# =============================================================================
# CONFIGURACIÓN DE FILTROS
# =============================================================================
ALLOWED_COUNTRIES=
BLOCKED_COUNTRIES=
DEFAULT_LANGUAGE=es
SUPPORTED_LANGUAGES=

# =============================================================================
# CONFIGURACIÓN DE CACHE
# =============================================================================
# Cache para streams en vivo (recomendado: 0-600 segundos)
STREAM_CACHE_MAX_AGE=120
STREAM_STALE_REVALIDATE=300
STREAM_STALE_ERROR=900

# Cache para catálogos (recomendado: 1800-7200 segundos)
CATALOG_CACHE_MAX_AGE=1800

# Cache para metadatos (recomendado: 3600-86400 segundos)
META_CACHE_MAX_AGE=3600

# Cache para manifest (recomendado: 86400 segundos)
MANIFEST_CACHE_MAX_AGE=86400

# =============================================================================
# CONFIGURACIÓN DE VALIDACIÓN BÁSICA
# =============================================================================
VALIDATE_STREAMS_ON_STARTUP=true
VALIDATE_STREAMS_INTERVAL_HOURS=6
REMOVE_INVALID_STREAMS=true
STREAM_VALIDATION_TIMEOUT=10

# =============================================================================
# CONFIGURACIÓN DE VALIDACIÓN DE CALIDAD AVANZADA
# =============================================================================
# Habilitar validación avanzada de audio/video
ENABLE_QUALITY_VALIDATION=true
AUDIO_VALIDATION_ENABLED=true
VIDEO_VALIDATION_ENABLED=true

# Timeouts y duraciones (en milisegundos)
QUALITY_VALIDATION_TIMEOUT=15000
QUALITY_SAMPLE_DURATION=5000

# Bitrates mínimos (en bits por segundo)
MIN_AUDIO_BITRATE=32000
MIN_VIDEO_BITRATE=100000

# Configuración de reintentos y cache
MAX_VALIDATION_RETRIES=2
VALIDATION_CACHE_HOURS=1

# =============================================================================
# CONFIGURACIÓN DE MONITOREO CONTINUO
# =============================================================================
# Habilitar monitoreo continuo de streams
ENABLE_CONTINUOUS_MONITORING=false

# Intervalo de monitoreo (en milisegundos)
MONITORING_INTERVAL=60000

# Umbrales de alerta
MONITORING_ALERT_THRESHOLD=3
MONITORING_FAILURE_RATE_THRESHOLD=0.5
MONITORING_ALERT_COOLDOWN_MINUTES=10

# Límites de concurrencia y timeouts
MAX_CONCURRENT_MONITORING=50
MONITORING_TIMEOUT=30000

# Limpieza automática
MONITORING_CLEANUP_INTERVAL_HOURS=24

# =============================================================================
# CONFIGURACIÓN DE SISTEMA DE FALLBACK
# =============================================================================
# Habilitar sistema de fallback automático
ENABLE_FALLBACK=true

# Configuración de intentos y timeouts
MAX_FALLBACK_ATTEMPTS=3
FALLBACK_TIMEOUT=15000
FALLBACK_COOLDOWN_MINUTES=5

# Preferencias de fallback
PREFER_ORIGINAL_STREAM=true
FALLBACK_QUALITY_ORDER=HD,SD,Auto

# Logging y estadísticas
ENABLE_FALLBACK_LOGGING=true
FALLBACK_STATS_CACHE_HOURS=6

# =============================================================================
# CONFIGURACIÓN DE LOGS
# =============================================================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_METRICS=true
LOG_FILE_PATH=logs/addon.log

# =============================================================================
# CONFIGURACIÓN AVANZADA
# =============================================================================
ENABLE_FAILOVER=true
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000

# =============================================================================
# CONFIGURACIÓN DE FUENTES VÁLIDAS
# =============================================================================
VALID_SOURCES=csv,m3u,remote_m3u,hybrid