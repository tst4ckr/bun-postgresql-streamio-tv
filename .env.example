# ===================================
# CONFIGURACIÓN DEL SERVIDOR
# ===================================
PORT=7000
NODE_ENV=development
HOST=0.0.0.0

# ===================================
# CONFIGURACIÓN DE FUENTE DE DATOS
# ===================================
# Opciones: 'csv', 'm3u', 'remote_m3u', 'hybrid'
CHANNELS_SOURCE=remote_m3u
CHANNELS_FILE=data/channels.csv
M3U_URL=https://iptv-org.github.io/iptv/categories/kids.m3u
BACKUP_M3U_URL=https://iptv-org.github.io/iptv/countries/mx.m3u
# Fuentes válidas personalizadas (separadas por comas)
VALID_SOURCES=csv,m3u,remote_m3u,hybrid

# ===================================
# CONFIGURACIÓN DE TV EN VIVO
# ===================================
DEFAULT_QUALITY=HD
ENABLE_ADULT_CHANNELS=false
CACHE_CHANNELS_HOURS=6
UPDATE_INTERVAL_HOURS=4
STREAM_TIMEOUT_SECONDS=30
MAX_CONCURRENT_STREAMS=100

# ===================================
# CONFIGURACIÓN DE LOGOS Y ASSETS
# ===================================
LOGO_CDN_URL=https://cdn.example.com/logos/
FALLBACK_LOGO=https://example.com/default-tv-logo.png
LOGO_CACHE_HOURS=24
AUTO_FETCH_LOGOS=true

# ===================================
# FILTROS GEOGRÁFICOS Y DE CONTENIDO
# ===================================
ALLOWED_COUNTRIES=
BLOCKED_COUNTRIES=
DEFAULT_LANGUAGE=ES
SUPPORTED_LANGUAGES=

# ===================================
# CONFIGURACIÓN DE CACHE PARA TV EN VIVO
# ===================================
# Cache optimizado para streams de TV (segundos)
STREAM_CACHE_MAX_AGE=120
STREAM_STALE_REVALIDATE=300
STREAM_STALE_ERROR=900

# Cache para catálogos de TV (segundos) - Optimizado para balance rendimiento/actualización
CATALOG_CACHE_MAX_AGE=1800
META_CACHE_MAX_AGE=3600
# Cache del manifest (segundos) - Optimizado para estabilidad
MANIFEST_CACHE_MAX_AGE=86400

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN
# ===================================
VALIDATE_STREAMS_ON_STARTUP=true
VALIDATE_STREAMS_INTERVAL_HOURS=0.25
REMOVE_INVALID_STREAMS=true
STREAM_VALIDATION_TIMEOUT=10

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN DE CALIDAD
# ===================================
# Habilita validación avanzada de calidad de audio/video
ENABLE_QUALITY_VALIDATION=true
# Validación específica de audio y video
AUDIO_VALIDATION_ENABLED=true
VIDEO_VALIDATION_ENABLED=true
# Timeout para validación de calidad (ms)
QUALITY_VALIDATION_TIMEOUT=15000
# Duración de muestra para análisis (ms)
QUALITY_SAMPLE_DURATION=5000
# Bitrates mínimos requeridos
MIN_AUDIO_BITRATE=32000
MIN_VIDEO_BITRATE=100000
# Reintentos y cache de validación
MAX_VALIDATION_RETRIES=2
VALIDATION_CACHE_HOURS=1

# ===================================
# CONFIGURACIÓN DE MONITOREO CONTINUO
# ===================================
# Habilita monitoreo en tiempo real de streams (deshabilitado por defecto)
ENABLE_CONTINUOUS_MONITORING=false
# Intervalo de monitoreo (ms)
MONITORING_INTERVAL=60000
# Umbral de fallos para alertas
MONITORING_ALERT_THRESHOLD=3
# Tasa de fallos para activar alertas (0.0-1.0)
MONITORING_FAILURE_RATE_THRESHOLD=0.5
# Tiempo de espera entre alertas (minutos)
MONITORING_ALERT_COOLDOWN_MINUTES=10
# Máximo de streams monitoreados simultáneamente
MAX_CONCURRENT_MONITORING=50
# Timeout para cada verificación de monitoreo (ms)
MONITORING_TIMEOUT=30000
# Intervalo de limpieza de datos de monitoreo (horas)
MONITORING_CLEANUP_INTERVAL_HOURS=24

# ===================================
# CONFIGURACIÓN DE SISTEMA DE FALLBACK
# ===================================
# Habilita sistema de fallback automático para streams fallidos
ENABLE_FALLBACK=true
# Máximo número de intentos de fallback
MAX_FALLBACK_ATTEMPTS=3
# Timeout para cada intento de fallback (ms)
FALLBACK_TIMEOUT=15000
# Tiempo de espera antes de reintentar fallback (minutos)
FALLBACK_COOLDOWN_MINUTES=5
# Preferir stream original cuando esté disponible
PREFER_ORIGINAL_STREAM=true
# Orden de calidades para fallback (separadas por comas)
FALLBACK_QUALITY_ORDER=HD,SD,LOW
# Habilitar logging detallado de fallbacks
ENABLE_FALLBACK_LOGGING=true
# Cache de estadísticas de fallback (horas)
FALLBACK_STATS_CACHE_HOURS=6

# ===================================
# CONFIGURACIÓN DE LOGS Y MONITOREO
# ===================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_METRICS=true
LOG_FILE_PATH=logs/addon.log

# ===================================
# CONFIGURACIÓN DE SEGURIDAD
# ===================================
ENABLE_CORS=true
CORS_ORIGIN=*
ENABLE_HELMET=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# ===================================
# CONFIGURACIÓN DEL ADDON
# ===================================
ADDON_ID=org.stremio.tv-iptv-channels
ADDON_NAME=TV IPTV Channels
ADDON_DESCRIPTION=Canales de TV en vivo desde fuentes IPTV compatibles con Stremio
ADDON_VERSION=1.0.0
CONTACT_EMAIL=

# ===================================
# CONFIGURACIÓN AVANZADA
# ===================================
ENABLE_USER_CONFIG=false
ENABLE_DEEP_LINKS=true
ENABLE_AUTO_UPDATE=true
ENABLE_FAILOVER=true
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000