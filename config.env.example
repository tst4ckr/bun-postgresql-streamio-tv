# ===================================
# CONFIGURACIÓN DEL SERVIDOR
# ===================================
PORT=7000
NODE_ENV=development
HOST=0.0.0.0

# ===================================
# CONFIGURACIÓN DE FUENTE DE DATOS
# ===================================
# Opciones: 'csv', 'm3u', 'remote_m3u', 'hybrid', 'automatic'
CHANNELS_SOURCE=csv
CHANNELS_FILE=data/channels.csv
M3U_URL=https://tu-lista-m3u.com/lista.m3u8
BACKUP_M3U_URL=https://tu-backup.com/lista.m3u8

# URL de lista M3U para modo automático (solo para automatic)
AUTO_M3U_URL=https://iptv-org.github.io/iptv/index.m3u

# ===================================
# CONFIGURACIÓN DE TV EN VIVO
# ===================================
DEFAULT_QUALITY=HD
ENABLE_ADULT_CHANNELS=false
CACHE_CHANNELS_HOURS=6

STREAM_TIMEOUT_SECONDS=30
MAX_CONCURRENT_STREAMS=100

# ===================================
# CONFIGURACIÓN DE LOGOS Y ASSETS
# ===================================
LOGO_CDN_URL=
FALLBACK_LOGO=https://example.com/default-tv-logo.png
LOGO_CACHE_HOURS=24
AUTO_FETCH_LOGOS=true

# ===================================
# FILTROS GEOGRÁFICOS Y DE CONTENIDO
# ===================================
ALLOWED_COUNTRIES=MX,ES,AR,CO,US,UK,DE,FR,IT
BLOCKED_COUNTRIES=
DEFAULT_LANGUAGE=es
SUPPORTED_LANGUAGES=es,en,fr,de,it

# ===================================
# CONFIGURACIÓN DE CACHE
# ===================================
STREAM_CACHE_MAX_AGE=300
STREAM_STALE_REVALIDATE=600
STREAM_STALE_ERROR=1800
# CATALOG_CACHE_MAX_AGE removed - catalog functionality disabled
META_CACHE_MAX_AGE=1800

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN DE STREAMS
# ===================================
# Nota: La validación periódica automática ha sido removida
VALIDATE_STREAMS_ON_STARTUP=true
REMOVE_INVALID_STREAMS=false
STREAM_VALIDATION_TIMEOUT=15
STREAM_VALIDATION_MAX_RETRIES=2
STREAM_VALIDATION_RETRY_DELAY=2000
VALIDATION_BATCH_SIZE=50
MAX_VALIDATION_CONCURRENCY=5

# ===================================
# CONFIGURACIÓN DE CONVERSIÓN HTTPS A HTTP
# ===================================
CONVERT_HTTPS_TO_HTTP=true
VALIDATE_HTTP_CONVERSION=true
HTTP_CONVERSION_TIMEOUT=5
HTTP_CONVERSION_MAX_RETRIES=2

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN TEMPRANA
# ===================================
# Habilita validación antes de deduplicación
ENABLE_EARLY_VALIDATION=true
# Timeout optimizado para validación temprana (segundos)
EARLY_VALIDATION_TIMEOUT=8
# Concurrencia para validación temprana
EARLY_VALIDATION_CONCURRENCY=10
# Tamaño de lote para procesamiento
EARLY_VALIDATION_BATCH_SIZE=100
# Tamaño máximo del cache de validación
EARLY_VALIDATION_CACHE_SIZE=1000
# TTL del cache en segundos (1 hora)
EARLY_VALIDATION_CACHE_TTL=3600

# ===================================
# CONFIGURACIÓN DE DEDUPLICACIÓN INTELIGENTE
# ===================================
# Habilita deduplicación basada en estado de streams
ENABLE_INTELLIGENT_DEDUPLICATION=true
# Estrategia: 'prioritize_working', 'prioritize_csv', 'first_found'
DEDUPLICATION_STRATEGY=prioritize_working
# Archivos CSV que deben ignorarse en la deduplicación (rutas separadas por comas)
# Ejemplo: data/channels.csv,data/premium/vip_channels.csv
DEDUPLICATION_IGNORE_FILES=data/channels.csv

# ===================================
# CONFIGURACIÓN DE LOGS Y MONITOREO
# ===================================
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_METRICS=true
LOG_FILE_PATH=logs/addon.log

# ===================================
# CONFIGURACIÓN DE SEGURIDAD
# ===================================
ENABLE_CORS=true
CORS_ORIGIN=*
ENABLE_HELMET=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# ===================================
# CONFIGURACIÓN DEL ADDON
# ===================================
ADDON_ID=org.stremio.tv-iptv-addon
ADDON_NAME=TV IPTV Addon
ADDON_DESCRIPTION=Canales de TV en vivo desde fuentes IPTV (M3U/RTMP)
ADDON_VERSION=1.0.0
CONTACT_EMAIL=support@example.com

# ===================================
# CONFIGURACIÓN AVANZADA
# ===================================
ENABLE_USER_CONFIG=true
ENABLE_DEEP_LINKS=true

ENABLE_FAILOVER=true
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000
